(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{jcJX:function(r,e,o){"use strict";o.r(e),o.d(e,"AccountModule",(function(){return x}));var i=o("3Pt+"),t=o("ofXK"),s=o("tyNb"),n=o("fXoL"),c=o("J9tS");let a=(()=>{class r{constructor(r,e){this.router=r,this.accountService=e,this.accountService.userValue&&this.router.navigate(["/"])}}return r.\u0275fac=function(e){return new(e||r)(n.Ob(s.c),n.Ob(c.a))},r.\u0275cmp=n.Ib({type:r,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(r,e){1&r&&(n.Tb(0,"div",0),n.Pb(1,"router-outlet"),n.Sb())},directives:[s.g],encapsulation:2}),r})();var b=o("SxV6");function d(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Email is required"),n.Sb())}function u(r,e){if(1&r&&(n.Tb(0,"div",14),n.Ec(1,d,2,0,"div",15),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.email.errors.required)}}function f(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Password is required"),n.Sb())}function l(r,e){if(1&r&&(n.Tb(0,"div",14),n.Ec(1,f,2,0,"div",15),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.password.errors.required)}}function m(r,e){1&r&&n.Pb(0,"span",16)}const g=function(r){return{"is-invalid":r}};function p(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"First Name is required"),n.Sb())}function v(r,e){if(1&r&&(n.Tb(0,"div",24),n.Ec(1,p,2,0,"div",25),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.firstName.errors.required)}}function h(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Last Name is required"),n.Sb())}function S(r,e){if(1&r&&(n.Tb(0,"div",24),n.Ec(1,h,2,0,"div",25),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.lastName.errors.required)}}function T(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Email is required"),n.Sb())}function w(r,e){if(1&r&&(n.Tb(0,"div",24),n.Ec(1,T,2,0,"div",25),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.email.errors.required)}}function B(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Age is required"),n.Sb())}function I(r,e){if(1&r&&(n.Tb(0,"div",24),n.Ec(1,B,2,0,"div",25),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.age.errors.required)}}function P(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Telephone is required"),n.Sb())}function C(r,e){if(1&r&&(n.Tb(0,"div",24),n.Ec(1,P,2,0,"div",25),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.phone.errors.required)}}function G(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Password is required"),n.Sb())}function q(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Password must be at least 6 characters"),n.Sb())}function E(r,e){if(1&r&&(n.Tb(0,"div",24),n.Ec(1,G,2,0,"div",25),n.Ec(2,q,2,0,"div",25),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.password.errors.required),n.Bb(1),n.oc("ngIf",r.f.password.errors.minlength)}}function y(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Passwords don't match"),n.Sb())}function N(r,e){if(1&r&&(n.Tb(0,"div",24),n.Ec(1,y,2,0,"div",25),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.confirmPass.hasError("checkIfMatchingPasswords"))}}function k(r,e){1&r&&n.Pb(0,"span",26)}const O=function(r){return{"is-invalid":r}},j=[{path:"",component:a,children:[{path:"login",component:(()=>{class r{constructor(r,e,o,i,t){this.formBuilder=r,this.route=e,this.router=o,this.accountService=i,this.alertService=t,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({email:["",i.o.email],password:["",i.o.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.login(this.f.email.value,this.f.password.value).pipe(Object(b.a)()).subscribe(r=>{this.router.navigate([this.returnUrl])},r=>{this.alertService.error("Wrong credentials"),this.loading=!1}))}}return r.\u0275fac=function(e){return new(e||r)(n.Ob(i.b),n.Ob(s.a),n.Ob(s.c),n.Ob(c.a),n.Ob(c.b))},r.\u0275cmp=n.Ib({type:r,selectors:[["ng-component"]],decls:24,vars:11,consts:[["width","200px","height","auto","src","https://res.cloudinary.com/dxn6dcenz/image/upload/v1622653987/libr-dark-logo_osy365.png","alt","libr-logo"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(n.Tb(0,"h1"),n.Gc(1,"Login to "),n.Pb(2,"img",0),n.Sb(),n.Tb(3,"div",1),n.Tb(4,"h4",2),n.Gc(5,"Login"),n.Sb(),n.Tb(6,"div",3),n.Tb(7,"form",4),n.fc("ngSubmit",(function(){return e.onSubmit()})),n.Tb(8,"div",5),n.Tb(9,"label",6),n.Gc(10,"Email"),n.Sb(),n.Pb(11,"input",7),n.Ec(12,u,2,1,"div",8),n.Sb(),n.Tb(13,"div",5),n.Tb(14,"label",9),n.Gc(15,"Password"),n.Sb(),n.Pb(16,"input",10),n.Ec(17,l,2,1,"div",8),n.Sb(),n.Tb(18,"div",5),n.Tb(19,"button",11),n.Ec(20,m,1,0,"span",12),n.Gc(21," Login "),n.Sb(),n.Tb(22,"a",13),n.Gc(23,"Register"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()),2&r&&(n.Bb(7),n.oc("formGroup",e.form),n.Bb(4),n.oc("ngClass",n.sc(7,g,e.submitted&&e.f.email.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.email.errors),n.Bb(4),n.oc("ngClass",n.sc(9,g,e.submitted&&e.f.password.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.password.errors),n.Bb(2),n.oc("disabled",e.loading),n.Bb(1),n.oc("ngIf",e.loading))},directives:[i.q,i.i,i.d,i.a,i.h,i.c,t.i,t.k,s.e],encapsulation:2}),r})()},{path:"register",component:(()=>{class r{constructor(r,e,o,i,t){this.formBuilder=r,this.route=e,this.router=o,this.accountService=i,this.alertService=t,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({firstName:["",i.o.required],lastName:["",i.o.required],email:["",[i.o.required,i.o.email]],age:["",i.o.required],phone:["",[i.o.required,i.o.pattern("^((\\+91-?)|0)?[0-9]{9}$")]],password:["",[i.o.required,i.o.minLength(6)]],confirmPass:["",i.o.required]},{validator:this.checkIfMatchingPasswords("password","confirmPass")})}checkIfMatchingPasswords(r,e){return o=>{const i=o.controls[e];return i.setErrors(o.controls[r].value!==i.value?{notEquivalent:!0}:null)}}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.register(this.form.value).pipe(Object(b.a)()).subscribe(r=>{this.alertService.success("Registration successful",{keepAfterRouteChange:!0}),this.router.navigate(["../login"],{relativeTo:this.route})},r=>{this.alertService.error(r.error.errorMessage),this.loading=!1}))}}return r.\u0275fac=function(e){return new(e||r)(n.Ob(i.b),n.Ob(s.a),n.Ob(s.c),n.Ob(c.a),n.Ob(c.b))},r.\u0275cmp=n.Ib({type:r,selectors:[["ng-component"]],decls:49,vars:31,consts:[["width","200px","height","auto","src","https://res.cloudinary.com/dxn6dcenz/image/upload/v1622653987/libr-dark-logo_osy365.png","alt","libr-logo"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["for","email"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["for","age"],["type","number","formControlName","age",1,"form-control",3,"ngClass"],["for","phone"],["type","text","formControlName","phone",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","confirmPass"],["type","password","formControlName","confirmPass",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(n.Tb(0,"h1"),n.Gc(1,"Register to "),n.Pb(2,"img",0),n.Sb(),n.Tb(3,"div",1),n.Tb(4,"h4",2),n.Gc(5,"Register"),n.Sb(),n.Tb(6,"div",3),n.Tb(7,"form",4),n.fc("ngSubmit",(function(){return e.onSubmit()})),n.Tb(8,"div",5),n.Tb(9,"label",6),n.Gc(10,"First Name"),n.Sb(),n.Pb(11,"input",7),n.Ec(12,v,2,1,"div",8),n.Sb(),n.Tb(13,"div",5),n.Tb(14,"label",9),n.Gc(15,"Last Name"),n.Sb(),n.Pb(16,"input",10),n.Ec(17,S,2,1,"div",8),n.Sb(),n.Tb(18,"div",5),n.Tb(19,"label",11),n.Gc(20,"Email"),n.Sb(),n.Pb(21,"input",12),n.Ec(22,w,2,1,"div",8),n.Sb(),n.Tb(23,"div",5),n.Tb(24,"label",13),n.Gc(25,"Age"),n.Sb(),n.Pb(26,"input",14),n.Ec(27,I,2,1,"div",8),n.Sb(),n.Tb(28,"div",5),n.Tb(29,"label",15),n.Gc(30,"Telephone number"),n.Sb(),n.Pb(31,"input",16),n.Ec(32,C,2,1,"div",8),n.Sb(),n.Tb(33,"div",5),n.Tb(34,"label",17),n.Gc(35,"Password"),n.Sb(),n.Pb(36,"input",18),n.Ec(37,E,3,2,"div",8),n.Sb(),n.Tb(38,"div",5),n.Tb(39,"label",19),n.Gc(40,"Confirm your password"),n.Sb(),n.Pb(41,"input",20),n.Ec(42,N,2,1,"div",8),n.Sb(),n.Tb(43,"div",5),n.Tb(44,"button",21),n.Ec(45,k,1,0,"span",22),n.Gc(46," Register "),n.Sb(),n.Tb(47,"a",23),n.Gc(48,"Cancel"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()),2&r&&(n.Bb(7),n.oc("formGroup",e.form),n.Bb(4),n.oc("ngClass",n.sc(17,O,e.submitted&&e.f.firstName.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.firstName.errors),n.Bb(4),n.oc("ngClass",n.sc(19,O,e.submitted&&e.f.lastName.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.lastName.errors),n.Bb(4),n.oc("ngClass",n.sc(21,O,e.submitted&&e.f.email.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.email.errors),n.Bb(4),n.oc("ngClass",n.sc(23,O,e.submitted&&e.f.age.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.age.errors),n.Bb(4),n.oc("ngClass",n.sc(25,O,e.submitted&&e.f.phone.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.phone.errors),n.Bb(4),n.oc("ngClass",n.sc(27,O,e.submitted&&e.f.password.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.password.errors),n.Bb(4),n.oc("ngClass",n.sc(29,O,e.submitted&&e.f.confirmPass.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.confirmPass.errors),n.Bb(2),n.oc("disabled",e.loading),n.Bb(1),n.oc("ngIf",e.loading))},directives:[i.q,i.i,i.d,i.a,i.h,i.c,t.i,t.k,i.k,s.e],encapsulation:2}),r})()}]}];let L=(()=>{class r{}return r.\u0275mod=n.Mb({type:r}),r.\u0275inj=n.Lb({factory:function(e){return new(e||r)},imports:[[s.f.forChild(j)],s.f]}),r})(),x=(()=>{class r{}return r.\u0275mod=n.Mb({type:r}),r.\u0275inj=n.Lb({factory:function(e){return new(e||r)},imports:[[t.b,i.l,L]]}),r})()}}]);