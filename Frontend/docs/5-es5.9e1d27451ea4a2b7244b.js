function _defineProperties(r,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function _createClass(r,e,i){return e&&_defineProperties(r.prototype,e),i&&_defineProperties(r,i),r}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{jcJX:function(r,e,i){"use strict";i.r(e),i.d(e,"AccountModule",(function(){return J}));var o,t=i("3Pt+"),n=i("ofXK"),s=i("tyNb"),c=i("fXoL"),a=i("J9tS"),b=((o=function r(e,i){_classCallCheck(this,r),this.router=e,this.accountService=i,this.accountService.userValue&&this.router.navigate(["/"])}).\u0275fac=function(r){return new(r||o)(c.Ob(s.c),c.Ob(a.a))},o.\u0275cmp=c.Ib({type:o,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(r,e){1&r&&(c.Tb(0,"div",0),c.Pb(1,"router-outlet"),c.Sb())},directives:[s.g],encapsulation:2}),o),f=i("SxV6");function d(r,e){1&r&&(c.Tb(0,"div"),c.Gc(1,"Email is required"),c.Sb())}function u(r,e){if(1&r&&(c.Tb(0,"div",14),c.Ec(1,d,2,0,"div",15),c.Sb()),2&r){var i=c.jc();c.Bb(1),c.oc("ngIf",i.f.email.errors.required)}}function l(r,e){1&r&&(c.Tb(0,"div"),c.Gc(1,"Password is required"),c.Sb())}function m(r,e){if(1&r&&(c.Tb(0,"div",14),c.Ec(1,l,2,0,"div",15),c.Sb()),2&r){var i=c.jc();c.Bb(1),c.oc("ngIf",i.f.password.errors.required)}}function g(r,e){1&r&&c.Pb(0,"span",16)}var p=function(r){return{"is-invalid":r}};function v(r,e){1&r&&(c.Tb(0,"div"),c.Gc(1,"First Name is required"),c.Sb())}function h(r,e){if(1&r&&(c.Tb(0,"div",24),c.Ec(1,v,2,0,"div",25),c.Sb()),2&r){var i=c.jc();c.Bb(1),c.oc("ngIf",i.f.firstName.errors.required)}}function S(r,e){1&r&&(c.Tb(0,"div"),c.Gc(1,"Last Name is required"),c.Sb())}function T(r,e){if(1&r&&(c.Tb(0,"div",24),c.Ec(1,S,2,0,"div",25),c.Sb()),2&r){var i=c.jc();c.Bb(1),c.oc("ngIf",i.f.lastName.errors.required)}}function C(r,e){1&r&&(c.Tb(0,"div"),c.Gc(1,"Email is required"),c.Sb())}function w(r,e){if(1&r&&(c.Tb(0,"div",24),c.Ec(1,C,2,0,"div",25),c.Sb()),2&r){var i=c.jc();c.Bb(1),c.oc("ngIf",i.f.email.errors.required)}}function y(r,e){1&r&&(c.Tb(0,"div"),c.Gc(1,"Age is required"),c.Sb())}function B(r,e){if(1&r&&(c.Tb(0,"div",24),c.Ec(1,y,2,0,"div",25),c.Sb()),2&r){var i=c.jc();c.Bb(1),c.oc("ngIf",i.f.age.errors.required)}}function P(r,e){1&r&&(c.Tb(0,"div"),c.Gc(1,"Telephone is required"),c.Sb())}function I(r,e){if(1&r&&(c.Tb(0,"div",24),c.Ec(1,P,2,0,"div",25),c.Sb()),2&r){var i=c.jc();c.Bb(1),c.oc("ngIf",i.f.phone.errors.required)}}function k(r,e){1&r&&(c.Tb(0,"div"),c.Gc(1,"Password is required"),c.Sb())}function G(r,e){1&r&&(c.Tb(0,"div"),c.Gc(1,"Password must be at least 6 characters"),c.Sb())}function E(r,e){if(1&r&&(c.Tb(0,"div",24),c.Ec(1,k,2,0,"div",25),c.Ec(2,G,2,0,"div",25),c.Sb()),2&r){var i=c.jc();c.Bb(1),c.oc("ngIf",i.f.password.errors.required),c.Bb(1),c.oc("ngIf",i.f.password.errors.minlength)}}function q(r,e){1&r&&(c.Tb(0,"div"),c.Gc(1,"Passwords don't match"),c.Sb())}function N(r,e){if(1&r&&(c.Tb(0,"div",24),c.Ec(1,q,2,0,"div",25),c.Sb()),2&r){var i=c.jc();c.Bb(1),c.oc("ngIf",i.f.confirmPass.hasError("checkIfMatchingPasswords"))}}function O(r,e){1&r&&c.Pb(0,"span",26)}var j,_,L,x,M=function(r){return{"is-invalid":r}},R=[{path:"",component:b,children:[{path:"login",component:(_=function(){function r(e,i,o,t,n){_classCallCheck(this,r),this.formBuilder=e,this.route=i,this.router=o,this.accountService=t,this.alertService=n,this.loading=!1,this.submitted=!1}return _createClass(r,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({email:["",t.o.email],password:["",t.o.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}},{key:"onSubmit",value:function(){var r=this;this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.login(this.f.email.value,this.f.password.value).pipe(Object(f.a)()).subscribe((function(e){r.router.navigate([r.returnUrl])}),(function(e){r.alertService.error("Wrong credentials"),r.loading=!1})))}},{key:"f",get:function(){return this.form.controls}}]),r}(),_.\u0275fac=function(r){return new(r||_)(c.Ob(t.b),c.Ob(s.a),c.Ob(s.c),c.Ob(a.a),c.Ob(a.b))},_.\u0275cmp=c.Ib({type:_,selectors:[["ng-component"]],decls:24,vars:11,consts:[["width","200px","height","auto","src","https://res.cloudinary.com/dxn6dcenz/image/upload/v1622653987/libr-dark-logo_osy365.png","alt","libr-logo"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(c.Tb(0,"h1"),c.Gc(1,"Login to "),c.Pb(2,"img",0),c.Sb(),c.Tb(3,"div",1),c.Tb(4,"h4",2),c.Gc(5,"Login"),c.Sb(),c.Tb(6,"div",3),c.Tb(7,"form",4),c.fc("ngSubmit",(function(){return e.onSubmit()})),c.Tb(8,"div",5),c.Tb(9,"label",6),c.Gc(10,"Email"),c.Sb(),c.Pb(11,"input",7),c.Ec(12,u,2,1,"div",8),c.Sb(),c.Tb(13,"div",5),c.Tb(14,"label",9),c.Gc(15,"Password"),c.Sb(),c.Pb(16,"input",10),c.Ec(17,m,2,1,"div",8),c.Sb(),c.Tb(18,"div",5),c.Tb(19,"button",11),c.Ec(20,g,1,0,"span",12),c.Gc(21," Login "),c.Sb(),c.Tb(22,"a",13),c.Gc(23,"Register"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&r&&(c.Bb(7),c.oc("formGroup",e.form),c.Bb(4),c.oc("ngClass",c.sc(7,p,e.submitted&&e.f.email.errors)),c.Bb(1),c.oc("ngIf",e.submitted&&e.f.email.errors),c.Bb(4),c.oc("ngClass",c.sc(9,p,e.submitted&&e.f.password.errors)),c.Bb(1),c.oc("ngIf",e.submitted&&e.f.password.errors),c.Bb(2),c.oc("disabled",e.loading),c.Bb(1),c.oc("ngIf",e.loading))},directives:[t.q,t.i,t.d,t.a,t.h,t.c,n.i,n.k,s.e],encapsulation:2}),_)},{path:"register",component:(j=function(){function r(e,i,o,t,n){_classCallCheck(this,r),this.formBuilder=e,this.route=i,this.router=o,this.accountService=t,this.alertService=n,this.loading=!1,this.submitted=!1}return _createClass(r,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({firstName:["",t.o.required],lastName:["",t.o.required],email:["",[t.o.required,t.o.email]],age:["",t.o.required],phone:["",[t.o.required,t.o.pattern("^((\\+91-?)|0)?[0-9]{9}$")]],password:["",[t.o.required,t.o.minLength(6)]],confirmPass:["",t.o.required]},{validator:this.checkIfMatchingPasswords("password","confirmPass")})}},{key:"checkIfMatchingPasswords",value:function(r,e){return function(i){var o=i.controls[e];return o.setErrors(i.controls[r].value!==o.value?{notEquivalent:!0}:null)}}},{key:"onSubmit",value:function(){var r=this;this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.register(this.form.value).pipe(Object(f.a)()).subscribe((function(e){r.alertService.success("Registration successful",{keepAfterRouteChange:!0}),r.router.navigate(["../login"],{relativeTo:r.route})}),(function(e){r.alertService.error(e.error.errorMessage),r.loading=!1})))}},{key:"f",get:function(){return this.form.controls}}]),r}(),j.\u0275fac=function(r){return new(r||j)(c.Ob(t.b),c.Ob(s.a),c.Ob(s.c),c.Ob(a.a),c.Ob(a.b))},j.\u0275cmp=c.Ib({type:j,selectors:[["ng-component"]],decls:49,vars:31,consts:[["width","200px","height","auto","src","https://res.cloudinary.com/dxn6dcenz/image/upload/v1622653987/libr-dark-logo_osy365.png","alt","libr-logo"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["for","email"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["for","age"],["type","number","formControlName","age",1,"form-control",3,"ngClass"],["for","phone"],["type","text","formControlName","phone",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","confirmPass"],["type","password","formControlName","confirmPass",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(c.Tb(0,"h1"),c.Gc(1,"Register to "),c.Pb(2,"img",0),c.Sb(),c.Tb(3,"div",1),c.Tb(4,"h4",2),c.Gc(5,"Register"),c.Sb(),c.Tb(6,"div",3),c.Tb(7,"form",4),c.fc("ngSubmit",(function(){return e.onSubmit()})),c.Tb(8,"div",5),c.Tb(9,"label",6),c.Gc(10,"First Name"),c.Sb(),c.Pb(11,"input",7),c.Ec(12,h,2,1,"div",8),c.Sb(),c.Tb(13,"div",5),c.Tb(14,"label",9),c.Gc(15,"Last Name"),c.Sb(),c.Pb(16,"input",10),c.Ec(17,T,2,1,"div",8),c.Sb(),c.Tb(18,"div",5),c.Tb(19,"label",11),c.Gc(20,"Email"),c.Sb(),c.Pb(21,"input",12),c.Ec(22,w,2,1,"div",8),c.Sb(),c.Tb(23,"div",5),c.Tb(24,"label",13),c.Gc(25,"Age"),c.Sb(),c.Pb(26,"input",14),c.Ec(27,B,2,1,"div",8),c.Sb(),c.Tb(28,"div",5),c.Tb(29,"label",15),c.Gc(30,"Telephone number"),c.Sb(),c.Pb(31,"input",16),c.Ec(32,I,2,1,"div",8),c.Sb(),c.Tb(33,"div",5),c.Tb(34,"label",17),c.Gc(35,"Password"),c.Sb(),c.Pb(36,"input",18),c.Ec(37,E,3,2,"div",8),c.Sb(),c.Tb(38,"div",5),c.Tb(39,"label",19),c.Gc(40,"Confirm your password"),c.Sb(),c.Pb(41,"input",20),c.Ec(42,N,2,1,"div",8),c.Sb(),c.Tb(43,"div",5),c.Tb(44,"button",21),c.Ec(45,O,1,0,"span",22),c.Gc(46," Register "),c.Sb(),c.Tb(47,"a",23),c.Gc(48,"Cancel"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&r&&(c.Bb(7),c.oc("formGroup",e.form),c.Bb(4),c.oc("ngClass",c.sc(17,M,e.submitted&&e.f.firstName.errors)),c.Bb(1),c.oc("ngIf",e.submitted&&e.f.firstName.errors),c.Bb(4),c.oc("ngClass",c.sc(19,M,e.submitted&&e.f.lastName.errors)),c.Bb(1),c.oc("ngIf",e.submitted&&e.f.lastName.errors),c.Bb(4),c.oc("ngClass",c.sc(21,M,e.submitted&&e.f.email.errors)),c.Bb(1),c.oc("ngIf",e.submitted&&e.f.email.errors),c.Bb(4),c.oc("ngClass",c.sc(23,M,e.submitted&&e.f.age.errors)),c.Bb(1),c.oc("ngIf",e.submitted&&e.f.age.errors),c.Bb(4),c.oc("ngClass",c.sc(25,M,e.submitted&&e.f.phone.errors)),c.Bb(1),c.oc("ngIf",e.submitted&&e.f.phone.errors),c.Bb(4),c.oc("ngClass",c.sc(27,M,e.submitted&&e.f.password.errors)),c.Bb(1),c.oc("ngIf",e.submitted&&e.f.password.errors),c.Bb(4),c.oc("ngClass",c.sc(29,M,e.submitted&&e.f.confirmPass.errors)),c.Bb(1),c.oc("ngIf",e.submitted&&e.f.confirmPass.errors),c.Bb(2),c.oc("disabled",e.loading),c.Bb(1),c.oc("ngIf",e.loading))},directives:[t.q,t.i,t.d,t.a,t.h,t.c,n.i,n.k,t.k,s.e],encapsulation:2}),j)}]}],A=((x=function r(){_classCallCheck(this,r)}).\u0275mod=c.Mb({type:x}),x.\u0275inj=c.Lb({factory:function(r){return new(r||x)},imports:[[s.f.forChild(R)],s.f]}),x),J=((L=function r(){_classCallCheck(this,r)}).\u0275mod=c.Mb({type:L}),L.\u0275inj=c.Lb({factory:function(r){return new(r||L)},imports:[[n.b,t.l,A]]}),L)}}]);